{
  "name": "hartran-linkedin-article",
  "nodes": [
    {
      "parameters": {},
      "id": "trigger-manual",
      "name": "üöÄ D√©clencheur Manuel",
      "type": "n8n-nodes-base.manualTrigger",
      "typeVersion": 1,
      "position": [
        256,
        304
      ]
    },
    {
      "parameters": {
        "resource": "databasePage",
        "operation": "getAll",
        "databaseId": {
          "__rl": true,
          "value": "507bd4507b644b78b44d4ceeb809f1e0",
          "mode": "id"
        },
        "limit": 1,
        "filterType": "manual",
        "options": {}
      },
      "id": "notion-get-ideas",
      "name": "üì• R√©cup√©rer Id√©e Non Trait√©e",
      "type": "n8n-nodes-base.notion",
      "typeVersion": 2.2,
      "position": [
        480,
        304
      ],
      "credentials": {
        "notionApi": {
          "id": "aH0S5x4M973O80uj",
          "name": "Notion LinkedIn"
        }
      }
    },
    {
      "parameters": {
        "promptType": "define",
        "text": "=Effectue une recherche approfondie sur le sujet suivant pour un article LinkedIn professionnel:\n\nTitre: {{ $json.properties['Titre'].title[0].plain_text }}\n\nContexte et sources: {{ $json.properties['Contexte et sources'].rich_text[0].plain_text }}\n\nRecherche les derni√®res actualit√©s, statistiques, √©tudes de cas, et innovations sur ce sujet. Fournis des donn√©es concr√®tes et v√©rifiables.",
        "options": {
          "systemMessage": "Tu es un expert en recherche d'informations sur les sujets de web analyse et data analyse. Tu dois effectuer une recherche approfondie et fournir des informations actuelles, des statistiques, des tendances et des exemples concrets. Utilise tes capacit√©s de recherche web pour trouver les informations les plus r√©centes et pertinentes."
        }
      },
      "id": "perplexity-agent",
      "name": "üîç Agent Recherche Perplexity",
      "type": "@n8n/n8n-nodes-langchain.agent",
      "typeVersion": 1.9,
      "position": [
        704,
        400
      ]
    },
    {
      "parameters": {
        "promptType": "define",
        "text": "=R√©dige un article LinkedIn professionnel bas√© sur les informations suivantes:\n\nSujet: {{ $('üì• R√©cup√©rer Id√©e Non Trait√©e').item.json.property_titre_id_e_principale }}\n\nNotes personnelles: {{ $('üì• R√©cup√©rer Id√©e Non Trait√©e').item.json.property_notes_personnelles }}\n\nQuestion √† adresser: {{ $('üì• R√©cup√©rer Id√©e Non Trait√©e').item.json.property_questions_adresser }}\n\nRecherche effectu√©e:\n{{ $json.output }}\n\nConsignes:\n- Article de 800-1200 mots\n- Structure avec une accroche forte\n- D√©veloppement avec exemples concrets\n- Insights pratiques et actionnables\n- Conclusion avec appel √† l'action\n- Ton professionnel mais accessible\n- Int√®gre l'angle d√©fini dans les notes personnelles et questions si fourni",
        "options": {
          "systemMessage": "Tu es un expert en r√©daction d'articles LinkedIn professionnels sur des sujets de web analyse et data analyse. Tu r√©diges des articles engageants avec une structure claire et des insights pratiques. Tu adaptes ton angle √©ditorial en fonction des notes personnelles et questions fournies."
        }
      },
      "id": "claude-agent",
      "name": "‚úçÔ∏è Agent R√©daction Claude",
      "type": "@n8n/n8n-nodes-langchain.agent",
      "typeVersion": 1.9,
      "position": [
        1056,
        400
      ]
    },
    {
      "parameters": {
        "model": "claude-3-opus-20240229",
        "options": {}
      },
      "id": "claude-model",
      "name": "Claude Model",
      "type": "@n8n/n8n-nodes-langchain.lmChatAnthropic",
      "typeVersion": 1.2,
      "position": [
        992,
        608
      ],
      "credentials": {
        "anthropicApi": {
          "id": "Ylmsz8Ymq9adIJs0",
          "name": "Anthropic account"
        }
      }
    },
    {
      "parameters": {
        "promptType": "define",
        "text": "=G√©n√®re exactement 10 hashtags pertinents pour cet article LinkedIn:\n\n{{ $json.output }}\n\nRetourne uniquement les hashtags s√©par√©s par des espaces, sans num√©rotation ni autre texte. M√©lange hashtags populaires et sp√©cialis√©s dans le domaine de l'analytics et du data.",
        "options": {
          "systemMessage": "Tu es un expert en marketing LinkedIn. Tu g√©n√®res des hashtags optimis√©s pour maximiser la visibilit√© des articles."
        }
      },
      "id": "openai-agent",
      "name": "üè∑Ô∏è Agent Hashtags GPT",
      "type": "@n8n/n8n-nodes-langchain.agent",
      "typeVersion": 1.9,
      "position": [
        1408,
        400
      ]
    },
    {
      "parameters": {
        "model": {
          "__rl": true,
          "value": "chatgpt-4o-latest",
          "mode": "list",
          "cachedResultName": "chatgpt-4o-latest"
        },
        "options": {}
      },
      "id": "openai-model",
      "name": "OpenAI Model",
      "type": "@n8n/n8n-nodes-langchain.lmChatOpenAi",
      "typeVersion": 1.2,
      "position": [
        1480,
        624
      ],
      "credentials": {
        "openAiApi": {
          "id": "W3z11iU8VRrweFEt",
          "name": "OpenAi account"
        }
      }
    },
    {
      "parameters": {
        "promptType": "define",
        "text": "=Sauvegarde cet article dans la base de donn√©es Notion (ID: 9b915f4f6bae479f9326ff2cfdabadd3).\n\nTitre de l'article: {{ $node['notion-get-ideas'].json.properties['Titre'].title[0].plain_text }}\n\nContenu de l'article:\n{{ $node['claude-agent'].json.output }}\n\nHashtags: {{ $json.output }}\n\nDate de g√©n√©ration: {{ $now }}\n\nID de l'id√©e source: {{ $node['notion-get-ideas'].json.id }}\n\nUtilise l'outil Notion pour cr√©er une nouvelle page dans la base de donn√©es. Assure-toi de bien mapper:\n- Le titre dans la propri√©t√© 'Titre'\n- Le contenu dans le corps de la page\n- Les hashtags dans la propri√©t√© correspondante si elle existe\n- La date de g√©n√©ration\n- La relation avec l'id√©e source\n\nR√©ponds avec un message de confirmation une fois la page cr√©√©e.",
        "options": {
          "systemMessage": "Tu es un assistant qui g√®re la sauvegarde d'articles dans Notion. Tu dois cr√©er une nouvelle page dans la base de donn√©es sp√©cifi√©e avec toutes les informations fournies. Utilise l'API Notion ou les outils MCP Notion disponibles pour effectuer cette t√¢che."
        }
      },
      "id": "notion-save-article",
      "name": "üíæ Agent IA - Sauvegarder Article",
      "type": "@n8n/n8n-nodes-langchain.agent",
      "typeVersion": 1.9,
      "position": [
        1760,
        400
      ]
    },
    {
      "parameters": {
        "resource": "databasePage",
        "operation": "update",
        "pageId": {
          "__rl": true,
          "value": "={{ $node['notion-get-ideas'].json.id }}",
          "mode": "id"
        },
        "propertiesUi": {
          "propertyValues": [
            {
              "key": "Statut"
            },
            {
              "key": "Date de traitement",
              "date": "={{ $now }}"
            }
          ]
        },
        "options": {}
      },
      "id": "notion-update-idea",
      "name": "‚úÖ Marquer Id√©e Trait√©e",
      "type": "n8n-nodes-base.notion",
      "typeVersion": 2.2,
      "position": [
        1984,
        400
      ]
    },
    {
      "parameters": {
        "model": "perplexity/sonar-pro",
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.lmChatOpenRouter",
      "typeVersion": 1,
      "position": [
        640,
        576
      ],
      "id": "8455064c-cbd7-4f0d-8da7-284d0cd6b3ed",
      "name": "OpenRouter Chat Model",
      "credentials": {
        "openRouterApi": {
          "id": "xLdMbYh4lyLsgJJA",
          "name": "OpenRouter account"
        }
      }
    }
    ,
    {
      "parameters": {
        "model": "claude-3-sonnet-20240229",
        "options": {}
      },
      "id": "claude-save-model",
      "name": "Claude Save Model",
      "type": "@n8n/n8n-nodes-langchain.lmChatAnthropic",
      "typeVersion": 1.2,
      "position": [
        1696,
        608
      ],
      "credentials": {
        "anthropicApi": {
          "id": "Ylmsz8Ymq9adIJs0",
          "name": "Anthropic account"
        }
      }
    },
    {
      "parameters": {},
      "id": "notion-tool",
      "name": "Notion Tool",
      "type": "@n8n/n8n-nodes-langchain.toolNotionPage",
      "typeVersion": 1,
      "position": [
        1824,
        608
      ],
      "credentials": {
        "notionApi": {
          "id": "aH0S5x4M973O80uj",
          "name": "Notion LinkedIn"
        }
      }
    }
  ],
  "pinData": {},
  "connections": {
    "üöÄ D√©clencheur Manuel": {
      "main": [
        [
          {
            "node": "üì• R√©cup√©rer Id√©e Non Trait√©e",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "üì• R√©cup√©rer Id√©e Non Trait√©e": {
      "main": [
        [
          {
            "node": "üîç Agent Recherche Perplexity",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "üîç Agent Recherche Perplexity": {
      "main": [
        [
          {
            "node": "‚úçÔ∏è Agent R√©daction Claude",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "‚úçÔ∏è Agent R√©daction Claude": {
      "main": [
        [
          {
            "node": "üè∑Ô∏è Agent Hashtags GPT",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Claude Model": {
      "ai_languageModel": [
        [
          {
            "node": "‚úçÔ∏è Agent R√©daction Claude",
            "type": "ai_languageModel",
            "index": 0
          }
        ]
      ]
    },
    "üè∑Ô∏è Agent Hashtags GPT": {
      "main": [
        [
          {
            "node": "üíæ Agent IA - Sauvegarder Article",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Claude Save Model": {
      "ai_languageModel": [
        [
          {
            "node": "üíæ Agent IA - Sauvegarder Article",
            "type": "ai_languageModel",
            "index": 0
          }
        ]
      ]
    },
    "Notion Tool": {
      "ai_tool": [
        [
          {
            "node": "üíæ Agent IA - Sauvegarder Article",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    },
    "OpenAI Model": {
      "ai_languageModel": [
        [
          {
            "node": "üè∑Ô∏è Agent Hashtags GPT",
            "type": "ai_languageModel",
            "index": 0
          }
        ]
      ]
    },
    "üíæ Agent IA - Sauvegarder Article": {
      "main": [
        [
          {
            "node": "‚úÖ Marquer Id√©e Trait√©e",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "OpenRouter Chat Model": {
      "ai_languageModel": [
        [
          {
            "node": "üîç Agent Recherche Perplexity",
            "type": "ai_languageModel",
            "index": 0
          }
        ]
      ]
    }
  },
  "active": false,
  "settings": {
    "executionOrder": "v1"
  },
  "versionId": "f5c39e04-ca7d-4e3e-87ae-49d55a015ab1",
  "meta": {
    "instanceId": "403566a9aee191faa03a05967266a85d00d44980ffb18ca114571275711151b4"
  },
  "id": "8fRjPcH3dc54VPPX",
  "tags": []
}